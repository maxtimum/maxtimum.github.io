{"version":3,"sources":["App.js","index.js"],"names":["App","useState","preserveBuffer","setPreserveBuffer","THREE","window","innerWidth","innerHeight","camera","grid","particles","setParticles","dt","setDT","sigma","rho","beta","params","setParams","useEffect","stats","Stats","showPanel","document","getElementById","appendChild","dom","scene","visible","add","renderer","preserveDrawingBuffer","antialias","autoClearColor","setSize","body","domElement","controls","OrbitControls","addEventListener","clear","aspect","updateProjectionMatrix","geometry","color","positions","colors","i","x","Math","random","y","z","push","setRGB","abs","r","g","b","setAttribute","material","size","vertexColors","points","light","position","update","animate","begin","requestAnimationFrame","attributes","array","needsUpdate","length","_x","_y","_z","dx","dy","dz","updatePTS","render","end","dispose","console","log","id","style","height","width","right","top","Accordion","AccordionSummary","expandIcon","Typography","AccordionDetails","Grid","container","direction","item","onSubmit","event","preventDefault","f","FormData","target","Number","get","TextField","name","defaultValue","inputProps","type","step","label","Button","fullWidth","FormControl","InputLabel","Select","value","onChange","MenuItem","onClick","set","ReactDOM","StrictMode"],"mappings":"gWAiMeA,MAxLf,WACE,MAA4CC,oBAAS,GAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KAEA,EAA4BF,mBAAS,IAAIG,IAAwB,GAAIC,OAAOC,WAAaD,OAAOE,YAAa,GAAK,MAAlH,mBAAOC,EAAP,KAEA,GAFA,KAEwBP,mBAAS,IAAIG,IAAiB,IAAK,OAA3D,mBAAOK,EAAP,KACA,GADA,KACkCR,mBAAS,MAA3C,mBAAOS,EAAP,KAAkBC,EAAlB,KACA,EAAoBV,mBAAS,QAA7B,mBAAOW,EAAP,KAAWC,EAAX,KAEA,EAA4BZ,mBAAS,CAAEa,MAAO,GAAIC,IAAK,GAAIC,KAAM,EAAM,IAAvE,mBAAOC,EAAP,KAAeC,EAAf,KAqGA,OApGAC,qBAAU,WAER,IAAMC,EAAQ,IAAIC,IAClBD,EAAME,UAAU,GAChBC,SAASC,eAAe,SAASC,YAAYL,EAAMM,KACnD,IAAMC,EAAQ,IAAIvB,IAElBK,EAAKmB,SAAU,EACfD,EAAME,IAAIpB,GACV,IAAMqB,EAAW,IAAI1B,IAAoB,CAAE2B,sBAAuB7B,EAAgB8B,WAAW,IAC7FF,EAASG,gBAAkB/B,EAC3B4B,EAASI,QAAQ7B,OAAOC,WAAYD,OAAOE,aAC3CgB,SAASY,KAAKV,YAAYK,EAASM,YAEnC,IAAMC,EAAW,IAAIC,IAAc9B,EAAQsB,EAASM,YACpDC,EAASE,iBAAiB,UAAU,WAAQT,EAASU,WAOrDnC,OAAOkC,iBAAiB,UAJtB/B,EAAOiC,OAASpC,OAAOC,WAAaD,OAAOE,YAC3CC,EAAOkC,8BACPZ,EAASI,QAAQ7B,OAAOC,WAAYD,OAAOE,eAQ7C,IAJA,IAAMoC,EAAW,IAAIvC,IACfwC,EAAQ,IAAIxC,IACZyC,EAAY,GACZC,EAAS,GACNC,EAAI,EAAGA,EAAIrC,EAAWqC,IAAK,CAClC,IAAMC,EAAqB,GAAhBC,KAAKC,SACVC,EAAqB,GAAhBF,KAAKC,SACVE,EAAqB,GAAhBH,KAAKC,SAChBL,EAAUQ,KAAKL,EAAGG,EAAGC,GACrBR,EAAMU,OAAOL,KAAKM,IAAIP,EAAI,IAAKC,KAAKM,IAAIJ,EAAI,IAAKF,KAAKM,IAAIH,EAAI,KAC9DN,EAAOO,KAAKT,EAAMY,EAAGZ,EAAMa,EAAGb,EAAMc,GAEtCf,EAASgB,aAAa,WAAY,IAAIvD,IAA6ByC,EAAW,IAC9EF,EAASgB,aAAa,QAAS,IAAIvD,IAA6B0C,EAAQ,IACxE,IAAMc,EAAW,IAAIxD,IAAqB,CAAEyD,KAAM,IAAKC,cAAc,IAC/DC,EAAS,IAAI3D,IAAauC,EAAUiB,GAC1CjC,EAAME,IAAIkC,GAGV,IAAMjD,EAAQG,EAAOH,MACfC,EAAME,EAAOF,IACbC,EAAOC,EAAOD,KAoBdgD,EAAQ,IAAI5D,IAAmB,SAAU,KAC/CuB,EAAME,IAAImC,GACVxD,EAAOyD,SAASb,EAAI,GACpB5C,EAAOyD,SAASjB,EAAI,EACpBxC,EAAOyD,SAASd,EAAI,EACpBd,EAAS6B,SAUT,OATc,SAAVC,IACF/C,EAAMgD,QACNC,sBAAsBF,GA3BN,WAChB,IAAMtB,EAAYkB,EAAOpB,SAAS2B,WAAWL,SAASM,MACtDR,EAAOpB,SAAS2B,WAAWL,SAASO,aAAc,EAElD,IAAK,IAAIzB,EAAI,EAAGA,EAAIF,EAAU4B,OAAQ1B,GAAK,EAAG,CAE5C,IAAM2B,EAAK7B,EAAUE,GACf4B,EAAK9B,EAAUE,EAAI,GACnB6B,EAAK/B,EAAUE,EAAI,GAEnB8B,EAAM/D,GAAS6D,EAAKD,GAAO9D,EAC3BkE,GAAOJ,GAAM3D,EAAM6D,GAAOD,GAAM/D,EAChCmE,GAAOL,EAAKC,EAAO3D,EAAO4D,GAAOhE,EAEvCiC,EAAUE,IAAM8B,EAChBhC,EAAUE,EAAI,IAAM+B,EACpBjC,EAAUE,EAAI,IAAMgC,GAYtBC,GACA3C,EAAS6B,SACTpC,EAASmD,OAAOtD,EAAOnB,GACvBY,EAAM8D,MAERf,GACO,WACLxB,EAASwC,UACTvB,EAASuB,UACTrD,EAASqD,aAEV,CAACjF,EAAgBQ,EAAWD,EAAMD,EAAQI,EAAIK,IAcjDmE,QAAQC,IAAIpE,GAEV,gCACE,qBAAKqE,GAAG,QAAQC,MAAO,CAAEC,OAAQ,OAAQC,MAAO,UAChD,qBAAKH,GAAG,UAAUC,MAAO,CAAEtB,SAAU,WAAYyB,MAAO,MAAOC,IAAK,OAApE,SACE,eAACC,EAAA,EAAD,CAAWL,MAAO,CAAEE,MAAO,SAA3B,UACE,cAACI,EAAA,EAAD,CAAkBC,WAAY,cAAC,IAAD,IAA9B,SACE,cAACC,EAAA,EAAD,wBAEF,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAA1B,UAEE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,uBAAMC,SAlBC,SAACC,GACpBA,EAAMC,iBACN,IAAMC,EAAI,IAAIC,SAASH,EAAMI,QAC7BxF,EAAU,CAAEJ,MAAO6F,OAAOH,EAAEI,IAAI,UAAW5F,KAAM2F,OAAOH,EAAEI,IAAI,SAAU7F,IAAK4F,OAAOH,EAAEI,IAAI,WAe9E,UACE,cAACC,EAAA,EAAD,CAAWC,KAAK,QAAQC,aAAc9F,EAAOH,MAAOkG,WAAY,CAAEC,KAAM,SAAUC,KAAM,OAASC,MAAM,UACvG,cAACN,EAAA,EAAD,CAAWC,KAAK,OAAOC,aAAc9F,EAAOD,KAAMgG,WAAY,CAAEC,KAAM,SAAUC,KAAM,OAASC,MAAM,SACrG,cAACN,EAAA,EAAD,CAAWC,KAAK,MAAMC,aAAc9F,EAAOF,IAAKiG,WAAY,CAAEC,KAAM,SAAUC,KAAM,OAASC,MAAM,QACnG,cAACC,EAAA,EAAD,CAAQC,WAAS,EAACJ,KAAK,SAAvB,gCAIJ,cAAChB,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,eAACkB,EAAA,EAAD,CACED,WAAS,EADX,UAGE,cAACE,EAAA,EAAD,wBACA,eAACC,EAAA,EAAD,CACEC,MAAO/G,EACPgH,SAvCU,SAACpB,GAC3B3F,EAAa2F,EAAMI,OAAOe,QAoCZ,UAIE,cAACE,EAAA,EAAD,CAAUF,MAAO,IAAjB,mBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,IAAjB,mBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,IAAjB,mBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,IAAjB,mBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,IAAjB,4BAKN,cAACxB,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,eAACkB,EAAA,EAAD,CACED,WAAS,EADX,UAGE,cAACE,EAAA,EAAD,uBACA,eAACC,EAAA,EAAD,CACEC,MAAO7G,EACP8G,SAtDK,SAACpB,GACtBzF,EAAMyF,EAAMI,OAAOe,QAmDL,UAIE,cAACE,EAAA,EAAD,CAAUF,MAAO,OAAjB,qBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,OAAjB,oBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,MAAjB,kBACA,cAACE,EAAA,EAAD,CAAUF,MAAO,KAAjB,yBAIN,cAACxB,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACgB,EAAA,EAAD,CAAQC,WAAS,EAACO,QAAS,kBAAMzH,GAAmBD,IAApD,2BAGF,cAAC+F,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACgB,EAAA,EAAD,CAAQC,WAAS,EAACO,QAAS,kBAAMpH,EAAOyD,SAAS4D,IAAI,EAAG,EAAG,KAA3D,2BAEF,cAAC5B,EAAA,EAAD,CAAMG,MAAI,EAAV,SACE,cAACgB,EAAA,EAAD,CAAQC,WAAS,EAACO,QAAS,WAAQnH,EAAKmB,SAAWnB,EAAKmB,SAAxD,uCChLhBkG,IAAS7C,OACP,cAAC,IAAM8C,WAAP,UACE,cAAC,EAAD,MAEFxG,SAASC,eAAe,W","file":"static/js/main.aace5e69.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport * as THREE from \"three\";\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport Stats from 'stats.js'\n\nimport { Button, Select, MenuItem, FormControl, InputLabel, Grid, Accordion, Typography, AccordionDetails, AccordionSummary, TextField } from '@material-ui/core'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nfunction App() {\n  const [preserveBuffer, setPreserveBuffer] = useState(false)\n  // eslint-disable-next-line\n  const [camera, setCamera] = useState(new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000))\n  // eslint-disable-next-line\n  const [grid, setGrid] = useState(new THREE.GridHelper(150, 150))\n  const [particles, setParticles] = useState(20000)\n  const [dt, setDT] = useState(.00125)\n  // eslint-disable-next-line\n  const [params, setParams] = useState({ sigma: 10, rho: 28, beta: 8.0 / 3.0 })\n  useEffect(() => {\n    // show stats\n    const stats = new Stats()\n    stats.showPanel(0)\n    document.getElementById('stats').appendChild(stats.dom)\n    const scene = new THREE.Scene();\n    // scene.background = new THREE.Color(0x121212)\n    grid.visible = false;\n    scene.add(grid);\n    const renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: preserveBuffer, antialias: true })\n    renderer.autoClearColor = !preserveBuffer;\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    document.body.appendChild(renderer.domElement);\n\n    const controls = new OrbitControls(camera, renderer.domElement);\n    controls.addEventListener('change', () => { renderer.clear() })\n\n    const resizeWindow = () => {\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n      renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n    window.addEventListener('resize', resizeWindow());\n\n    const geometry = new THREE.BufferGeometry();\n    const color = new THREE.Color();\n    const positions = [];\n    const colors = [];\n    for (let i = 0; i < particles; i++) {\n      const x = (Math.random() * 25);\n      const y = (Math.random() * 25);\n      const z = (Math.random() * 25);\n      positions.push(x, y, z)\n      color.setRGB(Math.abs(x / 25), Math.abs(y / 25), Math.abs(z / 25));\n      colors.push(color.r, color.g, color.b);\n    }\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));\n    geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));\n    const material = new THREE.PointsMaterial({ size: .15, vertexColors: true });\n    const points = new THREE.Points(geometry, material);\n    scene.add(points);\n\n    // params for lorenz equations\n    const sigma = params.sigma\n    const rho = params.rho\n    const beta = params.beta\n    const updatePTS = () => {\n      const positions = points.geometry.attributes.position.array;\n      points.geometry.attributes.position.needsUpdate = true;\n\n      for (let i = 0; i < positions.length; i += 3) {\n        // console.log(i, positions[i], positions[i + 1], positions[i + 2])\n        const _x = positions[i]\n        const _y = positions[i + 1]\n        const _z = positions[i + 2]\n\n        const dx = (sigma * (_y - _x)) * dt;\n        const dy = ((_x * (rho - _z)) - _y) * dt\n        const dz = ((_x * _y) - (beta * _z)) * dt\n\n        positions[i] += dx\n        positions[i + 1] += dy\n        positions[i + 2] += dz\n      }\n    }\n    const light = new THREE.AmbientLight(0xffffff, 100);\n    scene.add(light);\n    camera.position.z = 75;\n    camera.position.x = 0;\n    camera.position.y = 0;\n    controls.update();\n    var animate = () => {\n      stats.begin()\n      requestAnimationFrame(animate);\n      updatePTS()\n      controls.update();\n      renderer.render(scene, camera);\n      stats.end()\n    };\n    animate();\n    return () => {\n      geometry.dispose()\n      material.dispose()\n      renderer.dispose()\n    }\n  }, [preserveBuffer, particles, grid, camera, dt, params])\n\n\n  const updateParticleCount = (event) => {\n    setParticles(event.target.value);\n  };\n  const updateTimeStep = (event) => {\n    setDT(event.target.value);\n  };\n  const updateParams = (event) => {\n    event.preventDefault()\n    const f = new FormData(event.target)\n    setParams({ sigma: Number(f.get('sigma')), beta: Number(f.get('beta')), rho: Number(f.get('rho')) })\n  }\n  console.log(params)\n  return (\n    <div>\n      <div id='stats' style={{ height: '48px', width: '80px' }}></div>\n      <div id='options' style={{ position: 'absolute', right: '5px', top: '0px' }}>\n        <Accordion style={{ width: '175px' }}>\n          <AccordionSummary expandIcon={<ExpandMoreIcon />} >\n            <Typography>OPTIONS</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <Grid container direction='column'>\n\n              <Grid item>\n                <form onSubmit={updateParams}>\n                  <TextField name='sigma' defaultValue={params.sigma} inputProps={{ type: 'number', step: 'any' }} label='Sigma' />\n                  <TextField name='beta' defaultValue={params.beta} inputProps={{ type: 'number', step: 'any' }} label='Beta' />\n                  <TextField name='rho' defaultValue={params.rho} inputProps={{ type: 'number', step: 'any' }} label='Rho' />\n                  <Button fullWidth type='submit'>UPDATE PARAMS</Button>\n                </form>\n              </Grid>\n\n              <Grid item>\n                <FormControl\n                  fullWidth\n                >\n                  <InputLabel>Particles</InputLabel>\n                  <Select\n                    value={particles}\n                    onChange={updateParticleCount}\n                  >\n                    <MenuItem value={10000}>10000</MenuItem>\n                    <MenuItem value={20000}>20000</MenuItem>\n                    <MenuItem value={30000}>30000</MenuItem>\n                    <MenuItem value={50000}>50000</MenuItem>\n                    <MenuItem value={100000}>100000</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              <Grid item>\n                <FormControl\n                  fullWidth\n                >\n                  <InputLabel>Timestep</InputLabel>\n                  <Select\n                    value={dt}\n                    onChange={updateTimeStep}\n                  >\n                    <MenuItem value={.000625}>.000625</MenuItem>\n                    <MenuItem value={.00125}>.00125</MenuItem>\n                    <MenuItem value={.0025}>.005</MenuItem>\n                    <MenuItem value={.005}>.05</MenuItem>\n                  </Select>\n                </FormControl>\n              </Grid>\n              <Grid item>\n                <Button fullWidth onClick={() => setPreserveBuffer(!preserveBuffer)}>Keep Buffer</Button>\n              </Grid>\n\n              <Grid item>\n                <Button fullWidth onClick={() => camera.position.set(0, 0, 75)}>Zero Camera</Button>\n              </Grid>\n              <Grid item>\n                <Button fullWidth onClick={() => { grid.visible = !grid.visible }}>Show Grid</Button>\n              </Grid>\n\n            </Grid>\n          </AccordionDetails>\n        </Accordion>\n\n      </div>\n    </div >\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}